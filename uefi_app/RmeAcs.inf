## @file
#  Copyright (c) 2022-2024, Arm Limited or its affiliates. All rights reserved.
#  SPDX-License-Identifier : Apache-2.0
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#   http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.
##


[Defines]
  INF_VERSION                    = 0x00010006
  BASE_NAME                      = Rme
  FILE_GUID                      = a912f198-7f0e-4803-b908-b757b806ec83
  MODULE_TYPE                    = UEFI_APPLICATION
  VERSION_STRING                 = 0.1
  ENTRY_POINT                    = ShellCEntryLib

#
#  VALID_ARCHITECTURES           = AARCH64
#

[Sources.AARCH64]
  ../
  RmeAcsMain.c
  ../test_pool/da/da_attribute_rmeda_ctl_registers.c
  ../test_pool/da/da_autonomous_rootport_request_ns_pas.c
  ../test_pool/da/da_ctl_regs_rmsd_write_protect_property.c
  ../test_pool/da/da_dvsec_register_config.c
  ../test_pool/da/da_ide_state_rootport_error.c
  ../test_pool/da/da_ide_state_tdisp_disable.c
  ../test_pool/da/da_ide_tbit_0_for_root_request.c
  ../test_pool/da/da_incoming_request_ide_non_sec_unlocked.c
  ../test_pool/da/da_incoming_request_ide_sec_locked.c
  ../test_pool/da/da_interconnect_regs_rmsd_protected.c
  ../test_pool/da/da_outgoing_realm_rqst_ide_tbit_1.c
  ../test_pool/da/da_outgoing_request_with_ide_tbit.c
  ../test_pool/da/da_p2p_btw_2_tdisp_devices.c
  ../test_pool/da/da_rmsd_write_detect_property.c
  ../test_pool/da/da_rootport_ide_features.c
  ../test_pool/da/da_rootport_tdisp_disabled.c
  ../test_pool/da/da_rootport_write_protect_full_protect_property.c
  ../test_pool/da/da_selective_ide_register_property.c
  ../test_pool/da/da_smmu_implementation.c
  ../test_pool/da/da_tee_io_capability.c
  ../test_pool/dpt/dpt_p2p_different_rootport_invalid.c
  ../test_pool/dpt/dpt_p2p_different_rootport_valid.c
  ../test_pool/dpt/dpt_p2p_same_rootport_invalid.c
  ../test_pool/dpt/dpt_p2p_same_rootport_valid.c
  ../test_pool/dpt/dpt_system_resource_invalid.c
  ../test_pool/dpt/dpt_system_resource_valid_with_dpti.c
  ../test_pool/dpt/dpt_system_resource_valid_without_dpti.c
  ../test_pool/gic/gic_its_subjected_to_gpc_check.c
  ../test_pool/legacy_system/legacy_tz_enable_after_reset.c
  ../test_pool/legacy_system/legacy_tz_enable_before_reset.c
  ../test_pool/legacy_system/legacy_tz_en_drives_root_to_secure.c
  ../test_pool/legacy_system/legacy_tz_support_check.c
  ../test_pool/mec/mec_cmo_uses_correct_mecid.c
  ../test_pool/mec/mec_effect_of_popa_cmo.c
  ../test_pool/mec/mec_mecid_assosiation_and_encryption.c
  ../test_pool/mec/mec_support_mecid_and_mecid_width.c
  ../test_pool/rme/rme_all_pe_has_feat_rng_or_rng_trap.c
  ../test_pool/rme/rme_cmo_popa_for_cacheability_shareability.c
  ../test_pool/rme/rme_coherent_interconnect_supports_cmo_popa.c
  ../test_pool/rme/rme_data_encryption_beyond_popa.c
  ../test_pool/rme/rme_data_encryption_with_different_tweak.c
  ../test_pool/rme/rme_encryption_for_all_pas_except_ns.c
  ../test_pool/rme/rme_gpc_for_system_resource.c
  ../test_pool/rme/rme_gprs_scrubbed_after_reset.c
  ../test_pool/rme/rme_interconnect_supports_tlbi_pa.c
  ../test_pool/rme/rme_memory_associated_with_pas_till_popa.c
  ../test_pool/rme/rme_msd_save_restore_mem_in_root_pas.c
  ../test_pool/rme/rme_msd_smem_in_root_after_reset.c
  ../test_pool/rme/rme_msd_smem_in_root_pas.c
  ../test_pool/rme/rme_mte_region_in_root_pas.c
  ../test_pool/rme/rme_ns_encryption_is_immutable.c
  ../test_pool/rme/rme_pas_filter_functionality.c
  ../test_pool/rme/rme_pas_filter_in_inactive_mode.c
  ../test_pool/rme/rme_pcie_devices_support_gpc.c
  ../test_pool/rme/rme_pe_context_after_exit_wfi.c
  ../test_pool/rme/rme_pe_context_after_pe_suspend.c
  ../test_pool/rme/rme_pe_do_not_have_arch_diff.c
  ../test_pool/rme/rme_realm_smem_behaviour_after_reset.c
  ../test_pool/rme/rme_realm_smem_in_realm_pas.c
  ../test_pool/rme/rme_resources_aligned_to_granularity.c
  ../test_pool/rme/rme_resources_are_not_physically_aliased.c
  ../test_pool/rme/rme_rnvs_in_root_pas.c
  ../test_pool/rme/rme_root_wdog_fails_in_non_root_state.c
  ../test_pool/rme/rme_root_wdog_from_root_pas.c
  ../test_pool/rme/rme_smmu_blocks_request_at_registers_reset.c
  ../test_pool/rme/rme_snoop_filter_considers_pas.c
  ../test_pool/rme/rme_support_in_pe.c
  ../test_pool/rme/rme_system_reset_propagation_to_all_pe.c
  ../test_pool/smmu/smmu_implements_rme.c
  ../test_pool/smmu/smmu_responds_to_gpt_tlb.c
  

[Packages]
  EmbeddedPkg/EmbeddedPkg.dec
  MdePkg/MdePkg.dec
  MdeModulePkg/MdeModulePkg.dec
  ShellPkg/ShellPkg.dec

[LibraryClasses]
  RmeValLib
  RmePalLib
  UefiLib
  ShellLib
  DebugLib
  BaseMemoryLib
  ShellCEntryLib
  UefiBootServicesTableLib
  UefiRuntimeServicesTableLib

[Protocols]
  gEfiAcpiTableProtocolGuid                     ## CONSUMES
  gHardwareInterruptProtocolGuid                ## CONSUMES
  gEfiCpuArchProtocolGuid                       ## CONSUMES
  gEfiPciIoProtocolGuid                         ## CONSUMES
  gEfiLoadedImageProtocolGuid                   ## CONSUMES

[Guids]
  gEfiAcpi20TableGuid
  gEfiAcpiTableGuid

[BuildOptions]
  GCC:*_*_*_ASM_FLAGS  =  march=armv8.1-a
